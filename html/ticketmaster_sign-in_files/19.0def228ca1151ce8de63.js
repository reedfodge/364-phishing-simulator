(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"1tLu":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("17x9"),i=a.n(o),s=a("JRPe"),c=a("D7Mo"),l=a("fJPB"),u=a("DZBa"),d=a("4kip"),m=Object(l.getFromStorage)("siteToken")||u.n.TM_US,b=function(e){var t=e.copy,a=Object(n.useContext)(d.a).customization.config.fanSupportLink;return r.a.createElement("div",{"data-bdd":"error-banner-description"},t,"\xa0",r.a.createElement(s.a,{id:"frozen-account-banner-contact",values:{fanSupportUrl:r.a.createElement(c.h,{"data-bdd":"error-banner-link",size:"hecto",href:a||u.r[m]&&u.r[m].SUPPORT_FAN||u.r[u.n.TM_US].SUPPORT_FAN},Object(l.getCopy)("fan-support"))},"data-bdd":"error-banner-description"}))};b.propTypes={copy:i.a.node.isRequired};var p=function(e){var t=e.title,a=e.copy;return r.a.createElement(l.ErrorBanner,{title:t,content:r.a.createElement(b,{copy:a})})};p.propTypes={title:i.a.shape({props:i.a.shape({id:i.a.string})}),copy:i.a.node.isRequired},p.defaultProps={title:Object(l.getCopy)("frozen-account-banner-header")},t.a=p},"6Tfl":function(e,t,a){"use strict";var n=a("D43/");t.a=function(e){var t=e.message,a=void 0===t?"":t;return n.c.includes(a)||a.includes(n.b)}},Itb8:function(e,t,a){"use strict";a.d(t,"b",function(){return o}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return s});var n=a("mwIZ"),r=a.n(n),o=function(e){return r()(e,"_links.updatePartialAccountData","")},i=function(e){return r()(e,"userPartialData","")},s=function(e){return r()(e,"showInfoMessageFlag",!1)}},JL5Z:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("17x9"),i=a.n(o),s=a("D7Mo"),c=a("fJPB"),l=a("I2iu"),u=a("aukh"),d=Object(n.memo)(function(e){var t=e.errors,a=e.touched,o=e.values,i=e.handleBlur,d=e.passwordLabel,m=e.emailLabel,b=Object(u.a)(),p=b.status,g=b.handleStatusChange;return r.a.createElement(n.Fragment,null,r.a.createElement(c.EmailInput,{bddTag:"email-address-field",label:m,required:!0,errorMessage:t.email&&a.email?t.email:""}),r.a.createElement(s.p,{top:{xSmall:"cozy"}},r.a.createElement(c.PasswordInput,{onShowButtonClick:function(){p||Object(c.sendToUAL)(Object(l.a)(Object(l.b)())),g()},isTouched:a.password,value:o.password,label:d,handleBlur:i,isValidate:!1,errorMessage:t.password&&a.password?t.password:"",required:!0,dataBddProps:{passwordField:"password-field",passwordShow:"show-button"}})))});d.displayName="SignInFields",d.propTypes={handleBlur:i.a.func.isRequired,errors:i.a.shape({email:i.a.string,password:i.a.string}),touched:i.a.shape({email:i.a.bool,password:i.a.bool}),values:i.a.shape({email:i.a.string,password:i.a.string}),passwordLabel:i.a.shape({props:i.a.shape({id:i.a.string})}),emailLabel:i.a.shape({props:i.a.shape({id:i.a.string})})},d.defaultProps={errors:{},touched:{},values:{},passwordLabel:Object(c.getCopy)("password"),emailLabel:Object(c.getCopy)("email")},t.a=d},O4UF:function(e,t,a){"use strict";a.r(t);var n=a("pVnL"),r=a.n(n),o=a("MVZn"),i=a.n(o),s=a("J4zp"),c=a.n(s),l=a("q1tI"),u=a.n(l),d=a("KYPV"),m=a("mwIZ"),b=a.n(m),p=a("fJPB"),g=a("17x9"),E=a.n(g),f=a("D7Mo"),O=a("5MSu"),v=a("QbsG"),h=a("DZBa"),S=a("s6ek"),j=a("ODJQ"),w=a("B4h3"),T=a("ISdw"),P=a("6Qu4"),C=a("J1Dr"),L=a("pIEa"),I=a("JL5Z"),A=function(e){var t=e.email,a=Object(l.useContext)(O.a).setFlow;return u.a.createElement(p.ForgotPassword,{text:Object(p.getCopy)("forgot-password"),onClick:function(e){e.preventDefault(),Object(p.saveToStorage)(p.FIELD_NAMES.EMAIL,t),a(S.a.RESET_PASSWORD)},dataBddText:"forgot-password"})};A.propTypes={email:E.a.string},A.defaultProps={email:""};var y=A,F=a("LvDl"),k=a.n(F),R=a("VkAN"),D=a.n(R),M=a("vOnD"),N=a("Whmu");function _(){var e=D()(["\n  margin-left: 1px;\n"]);return _=function(){return e},e}var B=Object(M.default)(N.a)(_());B.displayName="CheckBox";var x=function(e){var t=e.field,a=e.isChecked;return u.a.createElement(B,r()({},t,{size:"small",isChecked:a,onChange:t.onChange,"data-bdd":"remember-me"}),Object(p.getCopy)("remember-me"))},U=x;function q(){var e=D()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-end;\n  padding-top: ",";\n"]);return q=function(){return e},e}x.propTypes={field:E.a.shape({name:E.a.string,onChange:E.a.func,onBlur:E.a.func}),isChecked:E.a.bool.isRequired},x.defaultProps={field:{name:"",onChange:k.a,onBlur:k.a}};var W=M.default.div(q(),f.z.normal),z=W;W.displayName="SignInPanel";var J=a("2Ayy"),Z=a("4kip"),V=Object(l.memo)(function(e){var t=Object(l.useContext)(O.a),a=t.companyName,n=t.isStandaloneWithHeader,o=Object(l.useContext)(Z.a).customization.config,i=o.clientName,s=o.showSignUp,c=o.default.subTitle,m=o.signIn.subTitle,b=Object(l.useCallback)(function(){return m?Object(p.getCopy)(m):c?Object(p.getCopy)(c):Object(p.getCopy)("sign-in.new",{companyName:i||a})},[a,i,m,c]);return u.a.createElement(j.a,null,u.a.createElement(T.a,{onSubmit:e.handleSubmit,noValidate:!0},u.a.createElement(J.a,null,u.a.createElement(C.a,{text:e.headerText||Object(p.getCopy)("sign-in")}),u.a.createElement(w.a,null,s&&u.a.createElement(P.a,{heading:b(),cta:Object(p.getCopy)("sign-up"),flow:S.a.CREATE_ACCOUNT}),e.isSocialLoginAvailable&&e.mode!==h.l.LOW_FRICTION&&u.a.createElement(v.a,{type:h.o.LOG_IN,onLoginFailure:e.onExternalLoginFailure,shouldResizeForXsDevice:e.isXsDevice&&n}),e.errorBanner,u.a.createElement(f.m,null,u.a.createElement(f.d,{small:12},u.a.createElement(I.a,{errors:e.errors,values:e.values,touched:e.touched,handleBlur:e.handleBlur}),u.a.createElement(z,null,u.a.createElement(d.Field,r()({isChecked:e.values[p.FIELD_NAMES.REMEMBER_ME],name:p.FIELD_NAMES.REMEMBER_ME,value:p.FIELD_NAMES.REMEMBER_ME,component:U},e)),u.a.createElement(y,{email:e.values.email}))))),u.a.createElement(L.a,r()({name:"sign-in",isFetching:e.isFetching,buttonText:Object(p.getCopy)("in"),buttonBdd:"sign-in-button",disclaimerBdd:"sign-in-footer-copy",isDisclaimerShown:!0},e)))))});V.displayName="SignIn";var H=V;V.propTypes={headerText:E.a.string,subHeaderText:E.a.string,handleSubmit:E.a.func.isRequired,handleBlur:E.a.func.isRequired,errors:E.a.shape({email:E.a.string,password:E.a.string}),touched:E.a.shape({email:E.a.bool,password:E.a.bool}),values:E.a.shape({email:E.a.string,password:E.a.string,rememberMe:E.a.bool}),isValid:E.a.bool,signInLink:E.a.string,resetPasswordLink:E.a.string,errorBanner:E.a.node,isFetching:E.a.bool,onExternalLoginFailure:E.a.func.isRequired,isSocialLoginAvailable:E.a.bool.isRequired,isXsDevice:E.a.bool.isRequired,mode:E.a.oneOf([h.l.LOW_FRICTION,null])},V.defaultProps={headerText:"",subHeaderText:"",errors:{},touched:{},values:{},isValid:!0,signInLink:"",resetPasswordLink:"",errorBanner:null,isFetching:!1,mode:null};var G=a("bfke"),K=a("5CpB"),Q=a("GBjV"),X=a("yV2k"),Y=a("FoNt"),$=a("4Mpm"),ee=a("rmv9"),te=a("Itb8"),ae=a("KBvm"),ne=a("Wxil"),re={"The user is not found":h.e.accountNotFoundError},oe=a("6Tfl"),ie=a("HHFS"),se=a("UeLP"),ce=a("kZZe"),le=a("f4rK"),ue=G.a.getSignInLink,de=G.a.getSignUpPage,me=G.a.getResetPasswordPage,be=G.a.isSocialLoginAvailable,pe=G.a.getMessages,ge=G.a.getMode,Ee=G.a.getUserPartialAccountData,fe=G.a.getUpdatePartialAccountDataLink,Oe=b()(pe(),"mainContent",{}),ve=Oe.title,he=Oe.subTitle,Se=Object(p.getFromStorage)("rememberedEmail"),je=Object(p.getFromStorage)("gaStandAloneContext");t.default=function(){var e=Object(l.useContext)(O.a),t=e.setFlow,a=e.isEpsTriggered,n=e.lowFrictionEmail,o=e.setLowFrictionEmail,s=Object(l.useContext)(Z.a).customization.config,m=s.default,b=m.title,g=m.subTitle,E=s.signIn,f=E.title,v=E.subTitle,S=Object(l.useRef)(null),j=Object(l.useState)(null),w=c()(j,2),T=w[0],P=w[1],C=Object(l.useState)(!1),L=c()(C,2),I=L[0],A=L[1],y=Object(l.useState)(window.innerWidth<=360),F=c()(y,2),k=F[0],R=F[1],D=Object(l.useState)(!1),M=c()(D,2),N=M[0],_=M[1],B=Object(l.useState)(!1),x=c()(B,2),U=x[0],q=x[1],W=Object(K.a)(ue,"",!0),z=W.data,J=W.error,V=W.doSend;Object(Q.a)(J);Object(l.useEffect)(function(){fe&&Ee&&(Object(p.saveToStorage)("userPartialData",Ee),Object(p.saveToStorage)("updatePartialAccountDataLink",fe),t(ce.e.UPDATE_PARTIAL_ACCOUNT))},[t]),Object(l.useEffect)(function(){if(z){var e=Object($.a)(z),a=Object(ee.b)(z),n=Object(ee.a)(z),r=Object(ie.b)(z),o=Object(ie.a)(z),i=Object(te.c)(z),s=Object(te.b)(z),c=Object(te.a)(z),l=S.current.getFormikBag().values.rememberMe;Object(p.sendToUAL)(Object(X.b)(l,je)),e?Object(ae.a)(e):a||n?(Object(p.saveToStorage)("updateTempPasswordLink",a),Object(p.saveToStorage)("updatePasswordLink",n),t(ce.e.UPDATE_PASSWORD)):r?(Object(p.saveToStorage)("phoneMetaLink",r),Object(p.saveToStorage)("emailAddress",o),t(ce.e.BIND_PHONE)):!0===c&&i&&s?(Object(p.saveToStorage)("userPartialData",i),Object(p.saveToStorage)("updatePartialAccountDataLink",s),t(ce.e.SHOW_INFO)):i&&s?(Object(p.saveToStorage)("userPartialData",i),Object(p.saveToStorage)("updatePartialAccountDataLink",s),t(ce.e.UPDATE_PARTIAL_ACCOUNT)):(A(!1),P(Object(ne.a)(z)))}},[z,t]),Object(l.useEffect)(function(){if(J&&J.message){A(!1),"The user is not found"===J.message&&_(!0),Object(oe.a)(J)||S.current.setFieldError(p.FIELD_NAMES.EMAIL,function(e){return re[e.message]||""}(J));var e=re[J.message]?Object(X.a)("Account not found",je):Object(X.a)(J.message.toLowerCase(),je);Object(p.sendToUAL)(e),P(Object(ne.a)(J))}},[J]),Object(Y.a)(ce.e.SIGN_IN);var G=Object(l.useCallback)(function(e,a){return a&&a.message===se.a.SCOPES_NOT_GRANTED?t(ce.e.FACEBOOK_PERMISSIONS_REREQUEST):P(a&&a.message?Object(ne.a)(a):null)},[t]);Object(l.useEffect)(function(){var e=function(){return R(window.innerWidth<=360)};return q(ge===h.l.LOW_FRICTION),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]);return u.a.createElement(d.Formik,{ref:S,initialValues:i()({email:Se||""},ge===h.l.LOW_FRICTION&&{email:n||Se},{password:"",rememberMe:!!Se},ge===h.l.LOW_FRICTION&&{rememberMe:!n&&!!Se}),validate:function(e){var t=Object(le.a)(e,[p.FIELD_NAMES.EMAIL]),a=e[p.FIELD_NAMES.PASSWORD].length;return 0===a?t[p.FIELD_NAMES.PASSWORD]=h.e.required:a<6&&(t[p.FIELD_NAMES.PASSWORD]=h.e.requiredLength),t},onSubmit:function(e){var t=e.email,a=e.password,n=e.rememberMe;I||(P(null),A(!0),U&&N&&o(S.current.state.values.email),V(ue,{email:t,password:a,rememberMe:n}))},render:function(e){return u.a.createElement(l.Fragment,null,!a&&u.a.createElement(H,r()({headerText:ve||f||b,subHeaderText:he||v||g,signInLink:de,resetPasswordLink:me,isFetching:I,errorBanner:T,onExternalLoginFailure:G,isSocialLoginAvailable:be,isXsDevice:k,mode:ge},e)))}})}},Wxil:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("fJPB"),i=a("JRPe"),s=a("D7Mo"),c=a("5MSu"),l=a("s6ek"),u=a("HeSG"),d=function(){var e=Object(n.useContext)(c.a).setFlow;return r.a.createElement("div",{"data-bdd":"error-banner-description"},r.a.createElement(i.a,{id:"update-password-banner-description",values:{resetPasswordPage:r.a.createElement(s.h,{size:"hecto",onClick:Object(u.a)(l.a.RESET_PASSWORD,e),type:"button"},r.a.createElement(i.a,{id:"get-new-password"}))}}))},m=function(){return r.a.createElement(o.ErrorBanner,{title:r.a.createElement(i.a,{id:"update-password-banner-title"}),content:r.a.createElement(d,null)})},b=a("17x9"),p=a.n(b),g=function(e){var t=e.count,a=Object(n.useContext)(c.a).setFlow;return r.a.createElement("div",{"data-bdd":"error-banner-description"},r.a.createElement(i.a,{id:"account-not-found-banner-description",values:{count:r.a.createElement(s.s.P2,{as:"span",weight:"semiBold"},t),resetPasswordPage:r.a.createElement(s.h,{size:"hecto",onClick:Object(u.a)(l.a.RESET_PASSWORD,a),type:"button"},r.a.createElement(i.a,{id:"request-new-password"}))}}))};g.propTypes={count:p.a.string.isRequired};var E=function(e){var t=e.count;return r.a.createElement(o.ErrorBanner,{title:r.a.createElement(i.a,{id:"account-not-found-banner-title"}),content:r.a.createElement(g,{count:t})})};E.propTypes={count:p.a.string.isRequired};var f=E,O=a("CI3w"),v=a("1tLu"),h=a("Y1EP"),S=a("q/GZ"),j=function(){var e=Object(n.useContext)(c.a).setFlow;return r.a.createElement("div",{"data-bdd":"error-banner-description"},r.a.createElement(i.a,{id:"gdpr-restriction-banner-description",values:{gdprCreateAcctUrl:r.a.createElement(s.h,{size:"hecto",onClick:Object(u.a)(l.a.CREATE_ACCOUNT,e),type:"button"},r.a.createElement(i.a,{id:"gdpr-restriction-create-new"}))}}))},w=function(){return r.a.createElement(o.ErrorBanner,{title:Object(o.getCopy)("gdpr-restriction-banner-header"),content:r.a.createElement(j,null)})},T=/Credentials mismatch (\d) attempts used/,P={"Invalid 3rd party auth token":r.a.createElement(O.a,null),"The account is frozen":r.a.createElement(v.a,{copy:Object(o.getCopy)("not-able-to-sign-in-at-this-time")}),"The account is locked":r.a.createElement(m,null),"The account is already linked":r.a.createElement(h.a,null),"The user is not found":null,"OAuth service response is invalid":r.a.createElement(S.a,null),"Wrong response received from Ping. Reason: No action found":r.a.createElement(S.a,null),"Wrong response received from Ping. Reason: No REF found":r.a.createElement(S.a,null),"Wrong response received from Ping. Reason: No resumePath found":r.a.createElement(S.a,null),"The account is either partially or fully restricted":r.a.createElement(w,null)};t.a=function(e){if(!e||!e.message)return r.a.createElement(O.a,null);var t=e.message.match(T);if(t&&t[1]<6){var a=6-t[1];return r.a.createElement(f,{count:a})}var n=P[e.message];return void 0!==n?n:r.a.createElement(O.a,null)}},Y1EP:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("JRPe"),i=a("D7Mo"),s=a("fJPB"),c=a("5MSu"),l=a("s6ek"),u=a("HeSG"),d=function(){var e=Object(n.useContext)(c.a).setFlow;return r.a.createElement("div",{"data-bdd":"error-banner-description"},r.a.createElement(o.a,{id:"account-already-linked-banner-description",values:{signInPage:r.a.createElement(i.h,{size:"hecto",onClick:Object(u.a)(l.a.SIGN_IN,e),type:"button"},Object(s.getCopy)("in"))}}))};t.a=function(){return r.a.createElement(s.ErrorBanner,{title:Object(s.getCopy)("account-already-linked-banner-header"),content:r.a.createElement(d,null)})}},rmv9:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return i});var n=a("mwIZ"),r=a.n(n),o=(a("DZBa"),function(e){return r()(e,"_links.updatePassword","")}),i=function(e){return r()(e,"_links.updateTempPassword","")}}}]);
//# sourceMappingURL=https://localhost:3000/assets/assu/19.0def228ca1151ce8de63.js.map