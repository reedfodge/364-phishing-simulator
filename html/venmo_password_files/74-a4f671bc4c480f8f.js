(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74],{38632:function(e,n,a){"use strict";a.d(n,{L:function(){return p},Z:function(){return m}});a(67294);var r=a(63406),t=a(84851),i=a(43846),s=a(42586),o=a(32085),c=a.n(o),d=function(e){var n=e.payload,a=n.action,r=n.subType,t=e.receiver,i="incompletePage";return"pay"===a?"phone"!==r||null!==t&&void 0!==t&&t.displayName?"email"!==r||null!==t&&void 0!==t&&t.displayName?{ns:i,key:"outgoing-pay"}:{ns:i,key:"outgoing-pay-email-fallback"}:{ns:i,key:"outgoing-pay-phone-fallback"}:"phone"!==r||null!==t&&void 0!==t&&t.displayName?"email"!==r||null!==t&&void 0!==t&&t.displayName?{ns:i,key:"outgoing-payment"}:{ns:i,key:"outgoing-charge-email-fallback"}:{ns:i,key:"outgoing-charge-phone-fallback"}},l=function(e){var n=e.payload.subType,a="notificationPage";return"payment"===n?{ns:a,key:"incoming-payment"}:"expiredSingleBackupCard"===n?{ns:a,key:"expired-backup-card"}:"missingBackup"===n?{ns:a,key:"missing-backup-fi"}:"expiringBackupCard"===n?{ns:a,key:"backup-credit-card-expiring"}:{ns:a,key:"incoming-friend"}},u=function(e){var n=e.payload,a=n.action,r=n.subType,t=e.sender,i=e.receiver,s="story";switch(r){case"p2p":case"p2pMerchant":case"p2pRedeemable":return"charge"===a?"you"===(null===t||void 0===t?void 0:t.displayName)?{ns:s,key:"you-charge-action"}:"you"===(null===i||void 0===i?void 0:i.displayName)?{ns:s,key:"you-charge-action-reverse"}:{ns:s,key:"charge-action"}:"you"===(null===t||void 0===t?void 0:t.displayName)?{ns:s,key:"you-paid-action"}:"you"===(null===i||void 0===i?void 0:i.displayName)?{ns:s,key:"you-paid-action-reverse"}:{ns:s,key:"paid-action"};case"p2pPhone":if("charge"===a){if("you"===(null===t||void 0===t?void 0:t.displayName))return{ns:s,key:"you-charge-action"};if(null===i||void 0===i||!i.displayName)return{ns:s,key:"charge-action-phone"}}return"you"===(null===t||void 0===t?void 0:t.displayName)?{ns:s,key:"you-paid-action"}:null!==i&&void 0!==i&&i.displayName?{ns:s,key:"paid-action"}:{ns:s,key:"paid-action-phone"};case"p2pEmail":if("charge"===a){if("you"===(null===t||void 0===t?void 0:t.displayName))return{ns:s,key:"you-charge-action"};if(null===i||void 0===i||!i.displayName)return{ns:s,key:"charge-action-email"}}return"you"===(null===t||void 0===t?void 0:t.displayName)?{ns:s,key:"you-paid-action"}:null!==i&&void 0!==i&&i.displayName?{ns:s,key:"paid-action"}:{ns:s,key:"paid-action-email"};case"refund":return{ns:s,key:"refund"};case"atmTransactionFee":return{ns:s,key:"fee-refund"};case"permanentCredit":case"provisionalCredit":return{ns:s,key:"dispute-credit"};case"paymentReversed":return{ns:s,key:"payment-reversed"};case"crypto":return"buy"===a?"you"===(null===t||void 0===t?void 0:t.displayName)?{ns:s,key:"you-crypto-trade-buy"}:{ns:s,key:"crypto-trade-buy"}:"you"===(null===t||void 0===t?void 0:t.displayName)?{ns:s,key:"you-crypto-trade-sell"}:{ns:s,key:"crypto-trade-sell"};case"crypto-ccReward":return"you"===(null===t||void 0===t?void 0:t.displayName)?{ns:s,key:"you-crypto-trade-buy-ccReward"}:{ns:s,key:"crypto-trade-buy-ccReward"};case"instantTransferComplete":return{ns:s,key:"instant-transfer-complete"};case"instantTransferFailed":return{ns:s,key:"instant-transfer-failed"};case"instantTransferCancelled":return{ns:s,key:"instant-transfer-cancelled"};case"instantTransferPending":return{ns:s,key:"instant-trnasfer-pending"};case"instantTransfer":return{ns:s,key:"instant-transfer"};case"standardTransferFailed":return{ns:s,key:"standard-transfer-failed"};case"standardTransferCancelled":return{ns:s,key:"standard-transfer-cancelled"};case"standardTransfer":return{ns:s,key:"standard-transfer"};case"addFundFailed":return{ns:s,key:"add-money-failed"};case"addFundCancelled":return{ns:s,key:"add-money-cancelled"};case"addFund":return{ns:s,key:"add-money"};case"authorizationWithRewards":return{ns:s,key:"authorization-with-rewards"};case"authorization":return"you"===(null===t||void 0===t?void 0:t.displayName)?{ns:s,key:"you-paid-action"}:{ns:s,key:"paid-action"};case"topUp":return{ns:s,key:"top-up"};case"atmWidthdrawl":return{ns:s,key:"atm-receipt"};case"balanceTransfer":return{ns:s,key:"balance-transfer"};case"creditRepayment":return{ns:s,key:"credit-repayment"};case"creditReward":return{ns:s,key:"credit-reward"};case"creditRewardShared":return{ns:s,key:"credit-reward-shared"};case"disbursement":return"you"===(null===t||void 0===t?void 0:t.displayName)?{ns:s,key:"you-paid-action"}:{ns:s,key:"paid-action"};case"disbursementReversal":return{ns:s,key:"disbursement-reversal"};case"directDeposit":return{ns:s,key:"direct-deposit"};case"directDepositReversal":return{ns:s,key:"direct-deposit-reversal"};case"comment":return{ns:s,key:"username"};default:return{ns:s}}},y=a(85893),p=function(e){var n=e.children,a=e.username,r=e.href,o=e.feedType,c=(0,i.R)().logEvent;if(a||r){var d=r||"/u/".concat(a);return(0,y.jsx)(t.Z,{href:d,target:r?"_blank":void 0,"data-testid":"link",onClick:function(){o&&("me"===o&&c(s.Iy.FEED_USERNAME_ME_CLICKED),"friend"===o&&c(s.Iy.FEED_USERNAME_FRIENDS_CLICKED))},children:(0,y.jsx)("strong",{children:n})})}return(0,y.jsx)("strong",{"data-testid":"bold",children:n})},m=function(e){var n=e.title,a=e.feedType,t=e.href,i=function(e){return"incomplete"===e.titleType?d(e):"notification"===e.titleType?l(e):"story"===e.titleType?u(e):{ns:"",key:""}}(n),s=i.ns,o=i.key,m=n.receiver,k=n.sender,f=n.payload,v=null===m||void 0===m?void 0:m.displayName,g=null===k||void 0===k?void 0:k.displayName;return(0,y.jsx)("div",{className:c().storyHeadline,children:(0,y.jsx)(r.cC,{ns:s,i18nKey:o,values:{receiverDisplayName:v,senderDisplayName:g,amount:null===f||void 0===f?void 0:f.amount},components:{receiver:(0,y.jsx)(p,{username:null===m||void 0===m?void 0:m.username,href:t,feedType:a}),sender:(0,y.jsx)(p,{username:null===k||void 0===k?void 0:k.username,feedType:a})}})})}},10074:function(e,n,a){"use strict";a.d(n,{Z:function(){return w}});var r=a(59499),t=a(50029),i=a(87794),s=a.n(i),o=a(67294),c=a(24070),d=a(74905),l=a(11163),u=a(63406),y=a(38632),p=a(78938),m=a(24360),k=a(30391),f=a(43846),v=a(42586),g=a(10560),b=a(68404),h=a(85893);function C(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function x(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?C(Object(a),!0).forEach((function(n){(0,r.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var N=function(e,n){if("instant"===n)return{icon:(0,h.jsx)(d.Lightningbolt,{style:{fill:c.ZQ.palette.background.default}}),backgroundColor:c.ZQ.palette.primary.main};if("reversed"===n||"permanent_credit"===n||"provisional_credit"===n)return{icon:(0,h.jsx)(d.Venmov,{style:{fill:c.ZQ.palette.background.default}}),backgroundColor:c.ZQ.palette.primary.main};switch(e){case"transfer":case"refund":case"atm_withdrawal":return{icon:(0,h.jsx)(d.Bank,{style:{fill:c.ZQ.palette.background.default}}),backgroundColor:c.ZQ.palette.primary.main};case"direct_deposit":case"direct_deposit_reversal":return{icon:(0,h.jsx)(d.Briefcase,{style:{fill:c.ZQ.palette.background.default}}),backgroundColor:c.ZQ.palette.primary.main};case"disbursement":case"disbursement_reversal":return{icon:(0,h.jsx)(d.Disbursements,{style:{fill:c.ZQ.palette.background.default}}),backgroundColor:c.ZQ.palette.primary.main};case"credit_repayment":return{icon:(0,h.jsx)(d.Venmocard,{style:{fill:c.ZQ.palette.background.default}}),backgroundColor:c.ZQ.palette.primary.main};case"credit_reward":return{icon:(0,h.jsx)(d.Venmodollar,{}),backgroundColor:"#E7F2F9"};case"top_up":return{icon:(0,h.jsx)(d.Venmov,{style:{fill:c.ZQ.palette.background.default}}),backgroundColor:c.ZQ.palette.primary.main};default:return}},w=function(e){var n,a,r=e.title,i=e.note,d=e.attachments,C=e.date,w=e.audience,j=e.avatar,_=e.amount,O=e.likes,T=e.comments,E=e.subType,P=e.externWalletStatus,Z=e.id,D=e.csrfToken,R=e.shouldOnCommentClickRedirect,L=void 0!==R&&R,F=e.isProcessing,Q=e.type,S=e.initials,I=e.cryptoOptions,A=e.audienceLabels,M=(0,o.useState)({userLiked:(null===O||void 0===O?void 0:O.userCommentedOrLiked)||!1,likeCount:(null===O||void 0===O?void 0:O.count)||0}),B=M[0],K=M[1],W=(0,b.oR)().toastStore,U=(0,u.$G)(["feed","common","story"]).t,V=(0,f.R)().logEvent,z=(0,l.useRouter)(),H=(0,m.WC)(C),q=H.date,G=H.type,$=G?U("common:date-difference-arialabel.".concat(G),{date:q}):q,J=G?U("common:date-difference.".concat(G),{date:q}):q;O&&(n=x({onClick:function(){var e=(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!B.userLiked){e.next=7;break}return e.next=4,k.O.delete("/api/stories/likes/".concat(Z),{headers:(0,g.t)(D)});case 4:K({userLiked:!1,likeCount:B.likeCount-1}),e.next=10;break;case 7:return e.next=9,k.O.post("/api/stories/likes/".concat(Z),{headers:(0,g.t)(D)});case 9:K({userLiked:!0,likeCount:B.likeCount+1});case 10:V(v.Iy.FEED_LIKE_CLICKED),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),n=B.userLiked?U("failed-to-unlike-title"):U("failed-to-like-title"),W.enqueueToast({titleMessage:n,messageDetails:U("common:failed-generic"),type:"error"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{count:B.likeCount,filled:B.userLiked}));T&&(a={count:T.count,filled:T.userCommentedOrLiked},L&&(a=x({onClick:function(){z.push("/story/".concat(Z))}},a)));var X=function(){var e=(0,t.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.O.put("/api/stories/".concat(Z),{body:{audience:n},headers:(0,g.t)(D)});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),W.enqueueToast({titleMessage:U("failed-to-change-audience-title"),messageDetails:U("common:failed-generic"),type:"error"}),e.abrupt("return",Promise.reject());case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsx)(c.oG,x(x({dateCreated:J,dateCreatedAriaLabel:$,audience:w,audienceLabels:A,headline:(0,h.jsx)(y.Z,{title:r,href:null===I||void 0===I?void 0:I.url}),avatar:function(){if(j||S){var e,n,a=null!==(e=r.sender)&&void 0!==e&&e.username?function(){var e;I&&!i.content?window.open(I.url,"_blank"):z.push("/u/".concat(null===(e=r.sender)||void 0===e?void 0:e.username))}:void 0;return{src:j,onClick:a,alt:null===(n=r.sender)||void 0===n?void 0:n.username,initials:S}}}(),paymentNote:i?(0,h.jsx)(p.ZP,{id:Z,note:i}):null,avatarIconData:N(Q,E),attachmentUrl:d&&d[0]&&d[0].url},d&&d[0]&&"giftwrap"===d[0].type&&{imageProps:{width:172,height:108}}),{},{amount:_,likes:n,comments:a,externWalletStatus:"sentToAmex"===P?U("story:sent-to-amex"):"amexPending"===P?U("story:amex-pending"):"amexFailed"===P?U("story:amex-fail"):null,processingNote:F?U("story:prcocessing"):"",onAudienceClick:_&&"transfer"!==Q?X:void 0,paymentProtected:{isPaymentProtected:"payment_protected"===E,ariaLabel:U("story:paymentProtected-aria-label"),titleAccess:U("story:paymentProtected-title-access")},id:Z}))}},32085:function(e){e.exports={storyHeadline:"headline_storyHeadline__3kO3m"}}}]);